!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SmartLabel=e():t.SmartLabel=e()}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n={init:function(t){var e=t.document,i=t.navigator.userAgent,r=Math.ceil,s=Math.floor,o="fusioncharts-smartlabel-",h=o+"container",a=o+"tag";return n={win:t,containerClass:h,classNameWithTag:a,classNameWithTagBR:"fusioncharts-smartlabel-br",maxDefaultCacheLimit:1e3,classNameReg:/\bfusioncharts-smartlabel-tag\b/,classNameBrReg:/\bfusioncharts-smartlabel-br\b/,spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+a+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+a+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),brRegex:new RegExp("({br[ ]*})|(<br[ ]*>)|(<br[ ]*/>)|(<BR[ ]*/>)|(<br\\>)","g"),ltgtquotRegex:/&lt;|&gt;|&quot;|&#034;|&#039;/g,nbspRegex:/&nbsp;|&#160;|&#xA0;/g,htmlSpecialEntityRegex:/&amp;|&quot;|&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function(){var n,r,s;return e.getElementsByClassName?(n="getElementsByClassName",r=a,s=!0):(n="getElementsByTagName",r="span",s=!1),{isIE:/msie/i.test(i)&&!t.opera,hasSVG:Boolean(t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(i),isWebKit:new RegExp(" AppleWebKit/").test(i),childRetriverFn:n,childRetriverString:r,noClassTesting:s}},createContainer:function(t){var i,n;if(t&&(t.offsetWidth||t.offsetHeight)){if(t.appendChild)return t.appendChild(n=e.createElement("DIV")),n.className=h,n.setAttribute("aria-hidden","true"),n.setAttribute("role","presentation"),n}else if((i=e.getElementsByTagName("body")[0])&&i.appendChild)return(n=e.createElement("DIV")).className=h,n.setAttribute("aria-hidden","true"),n.setAttribute("role","presentation"),i.appendChild(n),n},getNearestBreakIndex:function(t,e,i){if(!t||!t.length)return 0;var n,o=i._getWidthFn(),h=0,a=0,l=o(t),g=l/t.length;if(n=e,h=r(e/g),l<e)return t.length-1;for(h>t.length&&(n=e-l,h=t.length);n>0;){if(n=e-o(t.substr(0,h)),!(a=s(n/g)))return h;h+=a}for(;n<0;){if(n=e-o(t.substr(0,h)),!(a=s(n/g)))return h;h+=a}return h},parseStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return e.fontSize=(t.fontSize||t["font-size"]||"12px")+"",e.fontVariant=t.fontVariant||t["font-variant"]||"normal",e.fontWeight=t.fontWeight||t["font-weight"]||"normal",e.fontStyle=t.fontStyle||t["font-style"]||"normal",e.fontFamily=t.fontFamily||t["font-family"]||"Verdana,sans",e},setLineHeight:function(t){var e=t.fontSize;return t.lineHeight=t.lineHeight||t["line-height"]||1.2*parseInt(e,10)+"px",t},_getCleanHeight:function(t){return t=t.replace(/px/g,""),Number(t)},_getDimentionUsingDiv:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,i=e._container;return t instanceof Array&&(t=t.join("")),i.innerHTML=t,{width:i.offsetWidth,height:i.offsetHeight}},_getDimentionUsingCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,i=e.ctx,r=e.style,s=n._getCleanHeight(r.lineHeight);return t=t instanceof Array?(t=t.join("")).replace(/<br \/>/g,""):t.replace(/<br \/>/g,""),{width:i.measureText(t).width,height:s}},_hasOnlyBRTag:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!n.xmlTagRegEx.test(t)&&n.brRegex.test(t)},_getDimentionOfMultiLineText:function(){var t,e,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1?arguments[1]:void 0,o=r.replace(n.brRegex,"<br />"),h=n._getTextArray(o),a=0,l=0,g=s._getWidthFn(),f=n._getCleanHeight(s.style.lineHeight),c=f,d={};for(t=0,e=h.length;t<e;t++)"<br />"===h[t]?(l=Math.max(l,a),a=0,c+=f):(a+=i=g(h[t]),d[h[t]]=i);return{height:c,width:l=Math.max(l,a),detailObj:d}},_getTextArray:function(){var t,e,i,n,r,s,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",h=[];for(i=(r=o.split("<br />")).length,t=0;t<i;t++){for(n=(s=r[t].split("")).length,e=0;e<n;e++)h.push(s[e]);t!==i-1&&h.push("<br />")}return h},_findLastIndex:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,n=e.length;for(t=n-1;t>=0;t--)if(e[t]===i)return t;return-1}}}},r=n,s=r.init(window),o=s.win.document,h=s.getDocumentSupport(),a=h.isWebKit?0:4.5;function l(t,e,i){var n;i=(i=i>5?i:5)<20?i:20,this.maxContainers=i,this.first=null,this.last=null,this.containers={},this.length=0,this.rootNode=t,e&&((n=o.createElementNS("http://www.w3.org/2000/svg","svg")).setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink"),n.setAttributeNS("http://www.w3.org/2000/svg","height","0"),n.setAttributeNS("http://www.w3.org/2000/svg","width","0"),this.svgRoot=n,this.rootNode.appendChild(n))}l.prototype.get=function(t){var e,i,n,r=this.containers,o=this.length,h=this.maxContainers,a="";for(i in s.supportedStyle)void 0!==t[i]&&(a+=s.supportedStyle[i]+":"+t[i]+";");if(!a)return!1;if(n=r[a])this.first!==n&&(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.next=this.first,n.next.prev=n,this.last===n&&(this.last=n.prev),n.prev=null,this.first=n);else{if(o>=h)for(e=o-h+1;e--;)this.removeContainer(this.last);n=this.addContainer(a)}return n},l.prototype._makeDivNode=function(t){var e,i=t.keyStr;t.node||(t.node=o.createElement("div"),t.node.className="fusioncharts-div",this.rootNode.appendChild(t.node)),e=t.node,h.isIE&&!h.hasSVG?e.style.setAttribute("cssText",i):e.setAttribute("style",i),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),e.style.display="inline-block",e.innerHTML=s.testStrAvg,t.lineHeight=e.offsetHeight,t.avgCharWidth=e.offsetWidth/3,h.isBrowserLess?(t.svgText||(t.svgText=o.createElementNS("http://www.w3.org/2000/svg","text"),this.svgRoot.appendChild(e)),(e=t.svgText).setAttribute("style",i),e.textContent=s.testStrAvg,t.lineHeight=e.getBBox().height,t.avgCharWidth=(e.getBBox().width-a)/3,e.textContent="...",t.ellipsesWidth=e.getBBox().width-a,e.textContent=".",t.dotWidth=e.getBBox().width-a):(e.innerHTML="...",t.ellipsesWidth=e.offsetWidth,e.innerHTML=".",t.dotWidth=e.offsetWidth,e.innerHTML="")},l.prototype.addContainer=function(t){var e;return this.containers[t]=e={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:t,charCache:{}},e.next=this.first,e.next&&(e.next.prev=e),this.first=e,this.last||(this.last=e),this.length+=1,e},l.prototype.removeContainer=function(t){var e=t.keyStr;e&&this.length&&t&&(this.length-=1,t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev),t.node&&t.node.parentNode.removeChild(t.node),delete this.containers[e])},l.prototype.dispose=function(){var t,e=this.containers;for(t in this.maxContainers=null,e)this.removeContainer(e[t]);this.rootNode.parentNode.removeChild(this.rootNode),this.rootNode=null,this.first=null,this.last=null};var g=l;function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u=r.init(window),p=u.win.document,x=u.win.Math,m=x.max,v=x.round,y={" ":"&nbsp;"},b=u.getDocumentSupport(),_=b.isWebKit?0:4.5;function w(t,e,i){var n,r,s,o=!1,h=window.document.createElement("canvas");for(r in(i=i||{}).maxCacheLimit=isFinite(s=i.maxCacheLimit)?s:u.maxDefaultCacheLimit,"string"==typeof t&&(t=p.getElementById(t)),(n=u.createContainer(t)).innerHTML=u.testStrAvg,!b.isHeadLess&&(b.isIE||n.offsetHeight||n.offsetWidth)||(o=!0),n.innerHTML="",u.parentContainerStyle)n.style[r]=u.parentContainerStyle[r];this.parentContainer=n,this.ctx=h&&h.getContext&&h.getContext("2d"),this._containerManager=new g(n,o,10),this._showNoEllipses=!e,this._init=!0,this.style={},this.oldStyle={},this.options=i,this.setStyle()}w.textToLines=function(t){return(t=t||{}).text?"string"!=typeof t.text&&(t.text=t.text.toString()):t.text="",t.lines=t.text.split(/\n|<br\s*?\/?>/gi),t},w.prototype._calCharDimWithCache=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(!this._init)return!1;var n,r,s,o,h,a,l,g,f,c=this.options.maxCacheLimit,d=this.style||{};return a=this._advancedCache=this._advancedCache||(this._advancedCache={}),l=this._advancedCacheKey||(this._advancedCacheKey=[]),g=t+d.fontSize+d.fontFamily+d.fontWeight+d.fontStyle,f=t+"init"+d.fontSize+d.fontFamily+d.fontWeight+d.fontStyle,!this.ctx&&y[t]&&(t=y[t]),e?void 0===(h=a[f])&&(r=this._getDimention(t.repeat?t.repeat(i):Array(i+1).join(t)).width,s=this._getDimention(t).width,h=a[f]=(r-i*s)/(i+1),l.push(f),l.length>c&&delete a[l.shift()]):h=0,(o=a[g])?{width:o.width,height:o.height}:((n=this._getDimention(t)).width+=h,a[g]={width:n.width,height:n.height},l.push(g),l.length>c&&delete a[l.shift()],n)},w.prototype._getDimention=function(t){return this.requireDiv||!this.ctx?u._getDimentionUsingDiv(t,this):u._getDimentionUsingCanvas(t,this)},w.prototype._getWidthFn=function(){var t=this,e=t._containerObj.svgText;return e?function(t){var i,n;return e.textContent=t,(n=(i=e.getBBox()).width-_)<1&&(n=i.width),n}:function(e){return t.requireDiv||!t.ctx?u._getDimentionUsingDiv(e,t).width:u._getDimentionUsingCanvas(e,t).width}},w.prototype._isSameStyle=function(){var t=this.oldStyle||{},e=this.style;return e.fontSize===t.fontSize&&e.fontFamily===t.fontFamily&&e.fontStyle===t.fontStyle&&e.fontWeight===t.fontWeight&&e.fontVariant===t.fontVariant},w.prototype._setStyleOfCanvas=function(){if(!this._isSameStyle()){var t,e,i=this.style,n=i.fontStyle,r=i.fontVariant,s=i.fontWeight,o=i.fontSize,h=i.fontFamily;t=n+" "+r+" "+s+" "+(o+=-1===o.indexOf("px")?"px":"")+" "+h,this.ctx.font=t,e=this._containerObj=this._containerManager.get(i),this._containerObj?(this._container=e.node,this._context=e.context,this._cache=e.charCache,this._lineHeight=e.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0,e.ellipsesWidth=this._calCharDimWithCache("...",!1).width,e.dotWidth=this._calCharDimWithCache(".",!1).width,e.lineHeight=this._lineHeight=e.lineHeight||u._getCleanHeight(i.lineHeight),this.oldStyle=i}},w.prototype._setStyleOfDiv=function(){var t,e=this.style;this._containerObj=t=this._containerManager.get(e),t.node||this._containerManager._makeDivNode(this._containerObj),this._containerObj?(this._container=t.node,this._context=t.context,this._cache=t.charCache,this._lineHeight=t.lineHeight,this._styleNotSet=!1):this._styleNotSet=!0},w.prototype._updateStyle=function(){return this.requireDiv||!this.ctx?this._setStyleOfDiv():this._setStyleOfCanvas()},w.prototype.setStyle=function(t){return this.style=u.parseStyle(t),u.setLineHeight(this.style),this},w.prototype.useEllipsesOnOverflow=function(t){return this._init?(this._showNoEllipses=!t,this):this},w.prototype.getSmartText=function(t,e,i,n){if(!this._init)return!1;null==t?t="":"string"!=typeof t&&(t=t.toString());var r,s,o,h,a,l,g,f,c,d,x,v,y,_,w,S,T,C,H,W,O,j,N,R,D,L,M,E,B,A,z,I,F,P,k,q=0,V=-1,U=-1,K=-1,$=0,G=0,J=[],Q=0,X=this._showNoEllipses?"":"...",Y=this.ctx,Z=[],tt=-1,et=-1,it=-1,nt=function(t){for(var e=/\s/,i=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(i-=1)););return t.slice(0,i+1)},rt={text:t,maxWidth:e,maxHeight:i,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:t,isTruncated:!1};if(M=u.xmlTagRegEx.test(t)||u.nbspRegex.test(t),P=u._hasOnlyBRTag(t),this.requireDiv=M&&!P,this._updateStyle(),E=this._lineHeight,B=this._context,A=this._container,I=(z=this._containerObj).ellipsesWidth,F=z.dotWidth,l=t.replace(u.spanAdditionRegx,"$2"),v=this._getWidthFn(),E-i<=1&&E-i>=0&&(i*=1.2),Y||A){if(!b.isBrowserLess){if(M?P?(t=t.replace(u.brRegex,"<br />"),k=u._getDimentionOfMultiLineText(t,this),rt.oriTextWidth=g=k.width,rt.oriTextHeight=f=k.height):(A.innerHTML=t,rt.oriTextWidth=g=A.offsetWidth,rt.oriTextHeight=f=A.offsetHeight):(h=t=t.replace(u.ltgtquotRegex,(function(t){switch(t){case"&lt;":return"<";case"&gt;":return">";case"&quot;":case"&#034;":return'"';case"&#039;":return"'"}})),w=this.getSize(h,!0,{hasHTMLTag:M,hasOnlyBrTag:P,cleanText:!0}),rt.oriTextWidth=g=w.width,rt.oriTextHeight=f=w.height),f<=i&&g<=e)return rt.width=rt.oriTextWidth=g,rt.height=rt.oriTextHeight=f,rt;if(E>i)return rt.text="",rt.width=rt.oriTextWidth=0,rt.height=rt.oriTextHeight=0,rt}if(t=nt(t).replace(/(\s+)/g," "),a=this._showNoEllipses?e:e-I,!M||P){if(r=(J=u._getTextArray(t)).length,s="",o=[],x=J[0],this._cache[x]?H=this._cache[x].width:(H=v(x),this._cache[x]={width:H}),a>H&&!P)o=t.substr(0,u.getNearestBreakIndex(t,a,this)).split("");else{if(H>e)return rt.text="",rt.width=rt.oriTextWidth=rt.height=rt.oriTextHeight=0,rt;X&&((a=e-2*F)>H?X="..":(a=e-F)>H?X=".":(a=0,X=""))}if(Q=o.length,$=v(o.join("")),G=this._lineHeight,n){for(;Q<r;Q+=1)if(x=o[Q]=J[Q],"<br />"!==o[Q]){if(this._cache[x]?H=this._cache[x].width:(w&&(H=w.detailObj[x])||(H=v(x)),this._cache[x]={width:H}),($+=H)>a&&(s||(s=o.slice(0,-1).join("")),$>e))return rt.text=nt(s)+X,rt.tooltext=rt.oriText,rt.width=m(q,$),rt.height=G,rt.isTruncated=!0,rt}else G+=this._lineHeight,K=Q,q=m(q,$),$=0,s=null;return rt.text=o.join(""),rt.width=m(q,$),rt.height=G,rt}for(;Q<r;Q+=1){if(" "!==(x=o[Q]=J[Q])||B||(x=this.ctx?" ":"&nbsp;"),"<br />"===o[Q]){if(q=m(q,$),(G+=this._lineHeight)<=i){K=Q,$=0,s=null;continue}if(G>i)return s=o.slice(0,-1).join(""),rt.text=nt(s)+X,rt.tooltext=l,rt.width=q,rt.height=G-this._lineHeight,rt.isTruncated=!0,rt}if(this._cache[x]?H=this._cache[x].width:(w&&(H=w.detailObj[x])||(H=v(x)),this._cache[x]={width:H}),($+=H)>a&&(s||(s=o.slice(0,-1).join("")),$>e)){if("<br />"===J[Q+1])continue;if(U=u._findLastIndex(J.slice(0,o.length)," "),V=u._findLastIndex(J.slice(0,o.length),"-"),U>K?($=v(o.slice(K+1,U).join("")),o.splice(U,1,"<br />"),K=U,c=U+1):V>K?(V===o.length-1?($=v(o.slice(K+1,U).join("")),o.splice(V,1,"<br />-")):($=v(o.slice(K+1,U).join("")),o.splice(V,1,"-<br />")),K=V,c=V+1):(o.splice(o.length-1,1,"<br />"+J[Q]),it=o.length-2,$=v(o.slice(K+1,it+1).join("")),K=it,c=Q),(G+=this._lineHeight)>i)return rt.text=nt(s)+X,rt.tooltext=rt.oriText,rt.width=e,rt.height=G-this._lineHeight,rt.isTruncated=!0,rt;q=m(q,$),s=null,P?$=u._getDimentionOfMultiLineText(o.slice(K+1).join(""),this).width:(d=u.getNearestBreakIndex(t.substr(c),a,this),$=v(t.substr(c,d||1)),o.length<c+d&&(Q=(o=o.concat(t.substr(o.length,c+d-o.length).split(""))).length-1))}}return q=m(q,$),rt.text=o.join(""),rt.width=q,rt.height=G,rt}for(l=t.replace(u.spanAdditionRegx,"$2"),t=(t=t.replace(u.spanAdditionRegx,u.spanAdditionReplacer)).replace(/(<br\s*\/*\>)/g,'<span class="'+[u.classNameWithTag," ",u.classNameWithTagBR].join("")+'">$1</span>'),A.innerHTML=t,T=0,C=(S=A[b.childRetriverFn](b.childRetriverString)).length;T<C;T+=1)W=S[T],(b.noClassTesting||u.classNameReg.test(W.className))&&""!==(O=W.innerHTML)&&(" "===O?et=Z.length:"-"===O&&(tt=Z.length),Z.push({spaceIdx:et,dashIdx:tt,elem:W}),J.push(O));if(Q=0,(H=(r=Z.length)&&Z[0].elem.offsetWidth)>e||!r)return rt.text="",rt.width=rt.oriTextWidth=rt.height=rt.oriTextHeight=0,rt;if(H>a&&!this._showNoEllipses&&((a=e-2*F)>H?X="..":(a=e-F)>H?X=".":(a=0,X="")),y=Z[0].elem.offsetLeft,_=Z[0].elem.offsetTop,n)for(;Q<r;Q+=1)(j=(W=Z[Q].elem).offsetLeft-y+W.offsetWidth)>a&&(L||(L=Q),A.offsetWidth>e&&(D=Q,Q=r));else for(;Q<r;Q+=1)N=(W=Z[Q].elem).offsetHeight+(W.offsetTop-_),R=null,(j=W.offsetLeft-y+W.offsetWidth)>a?(L||(L=Q),j>e&&(U=Z[Q].spaceIdx,V=Z[Q].dashIdx,U>K?(Z[U].elem.innerHTML="<br/>",K=U):V>K?(Z[V].elem.innerHTML=V===Q?"<br/>-":"-<br/>",K=V):W.parentNode.insertBefore(R=p.createElement("br"),W),W.offsetHeight+W.offsetTop>i?(R?R.parentNode.removeChild(R):K===V?Z[V].elem.innerHTML="-":Z[U].elem.innerHTML=" ",D=Q,Q=r):L=null)):N>i&&(D=Q,Q=r);if(D<r){for(rt.isTruncated=!0,L=L||D,Q=r-1;Q>=L;Q-=1)(W=Z[Q].elem).parentNode.removeChild(W);for(;Q>=0;Q-=1)W=Z[Q].elem,u.classNameBrReg.test(W.className)?W.parentNode.removeChild(W):Q=0}return rt.text=A.innerHTML.replace(u.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&"),rt.isTruncated&&(rt.text+=X,rt.tooltext=l),rt.height=A.offsetHeight,rt.width=A.offsetWidth,rt}return rt.error=new Error("Body Tag Missing!"),rt},w.prototype.getSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._init)return!1;null==t?t="":"string"!=typeof t&&(t=t.toString());var n,r,s,o,h,a,l=0,g=0,f={},d=i.hasHTMLTag,p=i.hasOnlyBrTag;if(void 0===d&&(d=u.xmlTagRegEx.test(t)||u.nbspRegex.test(t)),void 0===p&&(p=u._hasOnlyBRTag(t)),this.requireDiv=d&&!p,i.cleanText||(t=t.replace(u.ltgtquotRegex,(function(t){switch(t){case"&lt;":return"<";case"&gt;":return">";case"&quot;":case"&#034;":return'"';case"&#039;":return"'"}}))),this._updateStyle(),a=this._container,!e)return this._calCharDimWithCache(t);for(o=0,h=(n=t.split("")).length;o<h;o++)r=n[o],s=this._calCharDimWithCache(r,!1,n.length),g=m(g,s.height),l+=s.width,f[r]=s.width;return p?c({},u._getDimentionOfMultiLineText(t,this),{detailObj:f}):d?(a.innerHTML=t,{width:a.offsetWidth,height:a.offsetHeight,detailObj:f}):{width:v(l),height:g,detailObj:f}},w.prototype.getOriSize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSize(t,e,i)},w.prototype.dispose=function(){return this._init?(this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose(),delete this._container,delete this._context,delete this._cache,delete this._containerManager,delete this._containerObj,delete this.id,delete this.style,delete this.parentContainer,delete this._showNoEllipses,this):this};e.default=w}]).default}));